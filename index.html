<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ad Spend Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.4;
      color: white;
    }

    .inputs {
      display: inline-block;
      cursor: pointer;
      position: relative;
      font-weight: bold;
    }

    .inputs:hover .selector {
      display: inline;
    }

    .selector {
      display: none;
      position: absolute;
      left: -15px;
      z-index: 10;
    }

    .selector select {
      width: auto;
    }

    .custom-button,
    .nav-button {
      background-color: #003555;
      /* blue background */
      border: 1px solid;
      color: white;
      /* White text */
      padding: 5px;
      /* Padding for text */
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 12px;
      /* Text size */
      font-family: Arial, Sans-Serif;
      border-radius: 5px;
      /* Rounded corners */
      cursor: pointer;
      margin: 2px;
    }

    .nav-button {
      background-color: #39b449;
      /* Green background */
    }

    .row {
      margin-top: 10px;
      display: flex;
      margin-left: 15px;
      margin-right: 15px;
    }

    .column {
      flex: 1;
      /* Ensures each column takes up equal space */
      padding-left: 15px;
      padding-right: 15px;
      /*border-left: 1px solid;
      border-bottom: 1px solid;
      border-color: white;*/

    }

    .box {
      /*border-color: #39b449;*/
      margin: 10px;
      margin-top: 2px;
    }

    .clabel {
      padding-top: 20px;
      margin-left: 15px;
      font-family: 'Merriweather', Arial, Sans-Serif;
      font-size: 1.2em;
      color: white;
    }

    .flabel {
      display: block;
      font-size: 12px;
      font-weight: bold;
      text-align: center;
      /* Text size */
      font-family: Arial, Sans-Serif;
      color: #003555;
    }

    input {
      padding: 5px;
    }

    #box1 {
      margin-left: 150px;
      width: 90%;
      margin: 0 auto;
      background-color: #003555;
    }
   
    ::-webkit-scrollbar {
      width: 12px;
      /* width of the entire scrollbar */
    }

    /* Targets the draggable part of the scrollbar */
    ::-webkit-scrollbar-thumb {
      background-color: darkgrey;
      /* color of the draggable part */
      border-radius: 10px;
      /* roundness of the draggable part */
      border: 3px solid transparent;
      /* creates padding around the thumb */
      background-clip: padding-box;
      /* prevents the background color from spilling into the border area */
    }

    /* Targets the part of the scrollbar track where there's no thumb */
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      /* color of the rest of the scrollbar */
      border-radius: 10px;
      /* roundness of the track */
    }
  </style>
</head>

<body>

  <section class="section" id="box1">
    <div class="row">
      <div class="column" id="box2">
        <label class="clabel">How to Use this Tool</label>
      </div>
      <div class="column" id="box3">
        <label class="clabel">Calculate - point to any <b>bold</b> number to change it</label>
      </div>
    </div>
    <div class="row">
      <div class="column" id="box2">
        <p>1. Choose a total sales goal for the year.</p>
      </div>
      <div class="column" id="box3">
        <p>$<span class="inputs" id="tsales">5</span> million in sales</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>2. Choose a value to represent a typical or average contract.</p>
      </div>
      <div class="column" id="box3">
        <p>$<span class="inputs" id="sale">100</span>,000 per contract</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>3. This gives us the number of contracts needed.</p>
      </div>
      <div class="column" id="box3">
        <p><span class="outputs" id="contracts">50</span> contracts signed</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>4. Choose the percentage of these contracts that will come from Marketing</p>
      </div>
      <div class="column" id="box3">
        <p><span class="inputs" id="pctcontracts">50</span>% of those contracts will likely come from our
          marketing efforts</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>5. The number of contracts from Marketing is therefore:</p>
      </div>
      <div class="column" id="box3">
        <p><span class="outputs" id="mcontracts">50</span> contracts</p>
      </div>
    </div>
    <div class="row">
      <div class="column" id="box2">
        <p>6. These <span class="outputs" id="mcontracts2"></span> contracts will yield:</p>
      </div>
      <div class="column" id="box3">
        <p><span class="outputs" id="mpctofrev">50</span> in revenue.</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>7. Choose the percentage of qualified leads who will sign a contract.</p>
      </div>
      <div class="column" id="box3">
        <p><span class="inputs" id="qleadpct">10</span>% of our qualified leads will sign a contract</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>8. This is how many qualified leads we will need:</p>
      </div>
      <div class="column" id="box3">
        <p><span class="outputs" id="qleads">250</span> qualified leads</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>9. Choose a percentage of all leads that become qualified:</p>
      </div>
      <div class="column" id="box3">
        <p><span class="inputs" id="pctleads">30</span>%</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>10. This is how many leads we will need:</p>
      </div>
      <div class="column" id="box3">
        <p><span class="outputs" id="tleads"></span> total leads.</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>11. Choose a percentage of ad clicks that become leads. In life sciences this is typically between 1 and 3%
        </p>
      </div>
      <div class="column" id="box3">
        <p><span class="inputs" id="clickstoleads">2</span>% </p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>12. This is how many ad clicks we'll need to generate <span class="outputs" id="tleads2"></span> leads</p>
      </div>
      <div class="column" id="box3">
        <p><span class="outputs" id="ctleads"></span> clicks.</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>13. Choose a percentage of viewed ads that are clicked (click through rate):</p>
      </div>
      <div class="column" id="box3">
        <p><span class="inputs" id="clickthru">1.5</span>% is pretty typical</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>14. This is how many ad views we'll need:</p>
      </div>
      <div class="column" id="box3">
        <p><span class="outputs" id="views"></span> views</p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>15. Choose a cost per click.</p>
      </div>
      <div class="column" id="box3">
        <p>$<span class="inputs" id="costpclick">4</span></p>
      </div>
    </div>

    <div class="row">
      <div class="column" id="box2">
        <p>16. This is the ad investment needed to generate <span class="outputs" id="mpctofrev2">50</span> of revenue, thus positioning our marketing efforts as a profit center.</p>
      </div>
      <div class="column" id="box3">
        <p>$<span class="outputs" id="adspend"></span></p>
      </div>
    </div>
    <br /><br />
    <br /><br />

  </section>

  <script>

    const dataA = [
      { "id": "tsales", "val": 5, "range": ["Select...", 1, 2, 5, 10, 15, 20, 25, 50, 100] },
      { "id": "sale", "val": 100, "range": ["Select...", 50, 100, 150, 200, 250, 500] },
      { "id": "pctcontracts", "val": 50, "range": ["Select...", 10, 20, 30, 40, 50, 60, 70, 80, 90, 100] },
      { "id": "qleadpct", "val": 10, "range": ["Select...", 1, 2, 5, 10, 20, 30, 40, 50] },
      { "id": "pctleads", "val": 30, "range": ["Select...", 1, 2, 5, 10, 20, 30, 40, 50] },
      { "id": "clickstoleads", "val": 2, "range": ["Select...", 1, 1.5, 2, 2.5, 3] },
      { "id": "clickthru", "val": 1.5, "range": ["Select...", 0.5, 1, 1.5, 2, 2.5, 3, 3.5] },
      { "id": "costpclick", "val": 4, "range": ["Select...", 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5, 5.5, 6, 6.5, 7] }
    ];

    // Helpers
    // update data
    function updateData(obj) {
      for (const i in dataA) {
        if (dataA[i] == obj.id) dataA[i].val = obj.val;
        break;
      }
      // recalculate
      calcOutputs();
    }
    // get val
    function getVal(id) {
      for (const i in dataA) {
        if (dataA[i].id == id) return dataA[i].val;
      }
    }
    // update outputs
    function calcOutputs() {

      // contracts needed
      const contracts = Math.round((getVal("tsales") * 1000000) / (getVal("sale") * 1000));
      document.getElementById("contracts").textContent = contracts;

      // contracts from marketing
      const mcontracts = Math.round(contracts * (getVal("pctcontracts") / 100));
      document.getElementById("mcontracts").textContent = mcontracts;
      document.getElementById("mcontracts2").textContent = mcontracts;

      // leads needed
      const qleads = Math.round((mcontracts / (getVal("qleadpct") / 100)));
      document.getElementById("qleads").textContent = qleads;

      // marketing percent of revenue
      let mpctofrev = (getVal("tsales") * 1000000) * (getVal("pctcontracts") / 100);
      // format large number
      let mpStr = "";
      if (mpctofrev > 1000000) {
        mpctofrev = mpctofrev / 1000000 + "MM";
        mpStr = mpctofrev;
      } else {
        mpStr = mpctofrev.toLocaleString();
      }
      document.getElementById("mpctofrev").textContent = mpStr;
      document.getElementById("mpctofrev2").textContent = mpStr;

      // total leads needed
      const tleads = Math.round(qleads / (getVal("pctleads") / 100));
      const tlStr = tleads.toLocaleString();
      document.getElementById("tleads").textContent = tlStr;
      document.getElementById("tleads2").textContent = tlStr;

      // pct of clicks to leads
      const ctleads = Math.round(tleads / (getVal("clickstoleads") / 100));
      const ctlStr = ctleads.toLocaleString();
      document.getElementById("ctleads").textContent = ctlStr;

      // views
      const views = Math.round(ctleads / (getVal("clickthru") / 100));
      const vStr = views.toLocaleString();
      document.getElementById("views").textContent = vStr;

      // cost per click - adspend
      const adspend = Math.round(ctleads * getVal("costpclick"));
      const adStr = adspend.toLocaleString();
      document.getElementById("adspend").textContent = adStr;
    }

    // Function to create a dropdown menu with specific values
    function createDropdown(obj) {
      const select = document.createElement('select');
      select.className = 'dropdown';

      obj.range.forEach(value => {
        const option = document.createElement('option');
        option.value = value;
        option.text = value;
        select.appendChild(option);
      });
      select.addEventListener('change', () => {
        // update display
        document.getElementById(obj.id).innerText = select.value;

        // update data
        obj.val = select.value;
        updateData(obj);
        //
        select.removeEventListener('change', this);
        select.remove();
      });
      return select;
    }
    function makeSelectors() {
      for (const i in dataA) {
        const obj = dataA[i];
        const s = document.getElementById(obj.id);
        //console.log(obj.val)

        s.addEventListener('mouseover', function (event) {
          // only make one per input
          if (!s.querySelector('.dropdown')) {
            const dropdown = createDropdown(obj);
            const selectorDiv = document.createElement('span');
            selectorDiv.className = 'selector';
            selectorDiv.appendChild(dropdown);
            s.appendChild(selectorDiv);
          }
        });
      }
    }
    // startup
    makeSelectors();
    calcOutputs();
  </script>

</body>

</html>