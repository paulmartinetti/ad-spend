<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Marketing Profit Article</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
    }

    .calc-value {
      display: inline-block;
      cursor: pointer;
      position: relative;
      font-weight: bold;
    }

    .calc-value:hover .selector {
      display: inline;
    }

    .selector {
      display: none;
      position: absolute;
      left: -15px;
      z-index: 10;
    }

    .selector select {
      width: auto;
    }
  </style>
</head>

<body>

  <article>
    <p>Let's say we need to make $<span class="calc-value" id="tsales">5</span> million in sales.</p>
    <p>And our typical sale is $<span class="calc-value" id="sale">100</span>,000.</p>
    <p>That means we need to get <span id="contracts">50</span> contracts signed.</p>
    <p>As we've said, <span class="calc-value" id="pctcontracts">50</span>% of those contracts will likely come from our
      marketing efforts. This is where Ad Spend budgeting comes in, that difficult to pin-down sort of number that has
      too many zeros. Is there any rhyme or reason behind this number? Yes! Let's walk through it.</p>
    <p>We assume that <span id="mcontracts">50</span> contracts will come from qualified leads responding to our
      marketing efforts. This is called an inbound lead. It refers to a new business connection to your company who
      needs your products and services.</p>
    <p>About <span class="calc-value" id="qleadpct">10</span>% of our qualified leads will sign a contract, meaning that
      we'll need <span id="qlead">250</span> qualified leads to gain $<span id="halfrev">5</span>MM in revenue.</p>
    <p>Qualified leads are a subset, let's start with <span class="calc-value" id="pctleads">30</span>% of all leads,
      meaning that our goal is to gain (250/0.3) or about <span id="tleads">830</span> leads.</p>
    <p>In the digital space (LinkedIn, Google Ads, our Website, etc), a lead happens when an interested person clicks on
      an ad or downloads an article, or writes or calls the company in response to something they see or hear. Properly
      placed ads and articles that make the new connection easy are referred to as implementing a Call-To-Action (CTA).
    </p>
    <p></p>
  </article>


  <script>
    function calc() {

      // contracts needed
      const contracts = (getVal("tsales") * 1000000) / (getVal("sale") * 1000);
      document.getElementById("contracts").textContent = contracts;

      // contracts from marketing
      const mcontracts = contracts * (getVal("pctcontracts") / 100);
      document.getElementById("mcontracts").textContent = mcontracts;

      // leads needed
      const qlead = Math.round(Math.round((mcontracts / (getVal("qleadpct")/100))*100)/100);
      document.getElementById("qlead").textContent = qlead;

      
      /* document.getElementById("halfrev").textContent;
      document.getElementById("tleads").textContent; */

    }

    const dataA = [
      { "id": "tsales", "val": 5, "range": ["Select...", 1, 2, 5, 10, 15, 20, 25, 50, 100] },
      { "id": "sale", "val": 100, "range": ["Select...", 50, 100, 150, 200, 250, 500] },
      { "id": "pctcontracts", "val": 50, "range": ["Select...", 10, 20, 30, 40, 50, 60, 70, 80, 90, 100] },
      { "id": "qleadpct", "val": 10, "range": ["Select...", 1, 2, 5, 10, 20, 30, 40, 50] },
      { "id": "pctleads", "val": 30, "range": ["Select...", 1, 2, 5, 10, 20, 30, 40, 50] }
    ];

    // Helpers
    // update data
    function updateData(obj) {
      for (const i in dataA) {
        if (dataA[i] == obj.id) dataA[i].val = obj.val;
        break;
      }
      // recalculate
      calc();
    }
    // get val
    function getVal(id) {
      for (const i in dataA) {
        if (dataA[i].id == id) return dataA[i].val;
      }
    }
    // Function to create a dropdown menu with specific values
    function createDropdown(obj) {
      const select = document.createElement('select');
      select.className = 'dropdown';

      obj.range.forEach(value => {
        const option = document.createElement('option');
        option.value = value;
        option.text = value;
        select.appendChild(option);
      });
      select.addEventListener('change', () => {
        // update display
        document.getElementById(obj.id).innerText = select.value;

        // update data
        obj.val = select.value;
        updateData(obj);
        //
        select.removeEventListener('change', this);
        select.remove();
      });
      return select;
    }
    function makeSelectors() {
      for (const i in dataA) {
        const obj = dataA[i];
        const s = document.getElementById(obj.id);

        s.addEventListener('mouseover', function (event) {
          if (!s.querySelector('.dropdown')) {
          const dropdown = createDropdown(obj);
          const selectorDiv = document.createElement('span');
          selectorDiv.className = 'selector';
          selectorDiv.appendChild(dropdown);
          s.appendChild(selectorDiv);
          }
        });
      }
    }
    // startup
    makeSelectors();
    //item.querySelector('.dropdown').focus();

  </script>

</body>

</html>